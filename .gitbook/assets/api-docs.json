{"openapi":"3.0.0","info":{"title":"Ratio API","description":"API endpoints and models for using the Ratio service","contact":{"name":"API Support","url":"https://help.ratio.me","email":"support@ratio.me"},"termsOfService":"http://developer.ratio.me/terms/","version":"1.0.0"},"servers":[{"url":"https://api.staging.ratio.me","description":"Staging server"}],"security":[{"JWT":[]}],"components":{"securitySchemes":{"JWT":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"Wallets":{"description":"","required":["items"],"type":"object","properties":{"items":{"description":"The wallets of the user","type":"array","items":{"$ref":"#/components/schemas/Wallet"}},"totalSize":{"description":"The number of wallets","type":"number"}}},"ActivityItemFiat":{"description":"","type":"object","properties":{"status":{"description":"The status of the fiat activity item","type":"string","enum":["PENDING","COMPLETED","FAILED"]},"currency":{"description":"The fiat currency of the activity item","type":"string","enum":["USD"]},"amount":{"description":"The amount of fiat currency exchanged","type":"string"},"direction":{"description":"The direction the fiat is moving","type":"string","enum":["CREDIT","DEBIT"]},"fundingMethod":{"description":"The method used for fiat, if funded","type":"string","enum":["ACH_ORIGINATED_STANDARD","ACH_ORIGINATED_INSTANT","ACH_RECEIVED"]},"bankAccount":{"description":"The Bank Account used for fiat, if funded","$ref":"#/components/schemas/BankAccount"}}},"ActivityItemCrypto":{"description":"","type":"object","properties":{"status":{"description":"The status of the crypto activity item","type":"string","enum":["PENDING","COMPLETED","FAILED"]},"currency":{"description":"The crypto currency acquired for the activity item","type":"string"},"wallet":{"description":"The destination wallet for the crypto currency","$ref":"#/components/schemas/Wallet"},"direction":{"description":"The direction the crypto is moving","type":"string","enum":["CREDIT","DEBIT"]},"amount":{"description":"The amount of crypto currency acquired","type":"string"},"price":{"description":"The price of a single unit of the crypto currency; specified in the fiat currency","type":"string"},"fee":{"description":"The fee to execute the crypto purchase and withdrawal; specified in the fiat currency","type":"string"},"transactionHash":{"description":"The on-chain transaction hash of the activity item","type":"string"}}},"ActivityItem":{"description":"","type":"object","properties":{"id":{"description":"The unique identifier of the allocation","type":"string"},"createTime":{"description":"The time the allocation was created","type":"string"},"updateTime":{"description":"The time the allocation was last updated","type":"string"},"fiat":{"description":"The fiat component of the activity item","$ref":"#/components/schemas/ActivityItemFiat"},"crypto":{"description":"The crypto component of the activity item","$ref":"#/components/schemas/ActivityItemCrypto"},"metadata":{"description":"(Optional) Additional metadata of the activity item","type":"object"}}},"BankAccount":{"description":"","type":"object","properties":{"id":{"description":"The unique identifier of the bank account","type":"string"},"createTime":{"description":"The time the bank account connection was created","type":"string"},"updateTime":{"description":"The time the bank account connection was last updated","type":"string"},"name":{"description":"The name of the bank account","type":"string"},"mask":{"description":"The account number mask","type":"string"},"linkStatus":{"description":"The status of the bank account link to the user","type":"string","enum":["INACTIVE","ACTIVE","LOGIN_REQUIRED"]},"verificationStatus":{"description":"The status of the bank account user identity verification","type":"string","enum":["IN_REVIEW","APPROVED","DECLINED"]}}},"Error":{"description":"","type":"object","properties":{"message":{"description":"Error message","type":"string"},"createTime":{"description":"Error creation time","type":"string"},"code":{"description":"Error code","type":"string"},"data":{"description":"Error data","type":"object"}}},"Kyc":{"description":"","type":"object","properties":{"createTime":{"description":"The time the KYC was created","type":"string"},"updateTime":{"description":"The time the KYC was last updated","type":"string"},"addressResult":{"description":"The result of the KYC address verification","type":"string","enum":["UNKNOWN","NOT_STARTED","SUBMITTED","IN_REVIEW","APPROVED","DECLINED"]},"dobResult":{"description":"The result of the KYC date of birth verification","type":"string","enum":["UNKNOWN","NOT_STARTED","SUBMITTED","IN_REVIEW","APPROVED","DECLINED"]},"fraudResult":{"description":"The result of the KYC fraud verification","type":"string","enum":["UNKNOWN","NOT_STARTED","SUBMITTED","IN_REVIEW","APPROVED","DECLINED"]},"idvResult":{"description":"The result of the KYC identity documentation verification","type":"string","enum":["UNKNOWN","NOT_STARTED","SUBMITTED","IN_REVIEW","APPROVED","DECLINED"]}}},"PartnerSession":{"description":"","type":"object","properties":{"id":{"description":"The session ID","type":"string"},"createTime":{"description":"The time the session was created","type":"string"},"updateTime":{"description":"The time the session was last updated","type":"string"},"depositAddress":{"description":"The address of the deposit wallet","type":"string"},"depositNetwork":{"description":"The crypto network of the deposit wallet","$ref":"#/components/schemas/Network"},"userMask":{"description":"The user mask object","$ref":"#/components/schemas/UserMask"}}},"Payroll":{"description":"","type":"object","properties":{"createTime":{"description":"The time the payroll connection was created","type":"string"},"updateTime":{"description":"The time the payroll connection was last updated","type":"string"},"provider":{"description":"The provider for the payroll","type":"string","enum":["OTHER","ADP","WORKDAY","PAYCHEX","GUSTO","MANUAL"]},"distribution":{"description":"The amount being distributed from this payroll","type":"string"}}},"ActivateBankLinkRequest":{"description":"","required":["publicToken"],"type":"object","properties":{"publicToken":{"description":"The public token from the Plaid integration","type":"string"}}},"AuthenticateCryptoWalletStartRequest":{"description":"","required":["walletAddress","walletNetwork"],"type":"object","properties":{"walletAddress":{"description":"The wallet address to authenticate","type":"string"},"walletNetwork":{"description":"The wallet network to authenticate","type":"string","enum":["ETHEREUM","SOLANA"]}}},"AuthenticateCryptoWalletRequest":{"description":"","required":["walletAddress","walletNetwork","signature"],"type":"object","properties":{"walletAddress":{"description":"The wallet address to authenticate","type":"string"},"walletNetwork":{"description":"The wallet network to authenticate","type":"string","enum":["ETHEREUM","SOLANA"]},"signature":{"description":"The signature of the challenge","type":"string"}}},"AuthenticateEmailOtpRequest":{"description":"","required":["otp","emailId"],"type":"object","properties":{"otp":{"description":"The OTP to authenticate","type":"string"},"emailId":{"description":"The phone identifier to authenticate","type":"string"}}},"AuthenticateSmsOtpRequest":{"description":"","required":["otp","phoneId"],"type":"object","properties":{"otp":{"description":"The OTP to authenticate","type":"string"},"phoneId":{"description":"The phone identifier to authenticate","type":"string"}}},"ConnectWalletRequest":{"description":"","required":["address","network"],"type":"object","properties":{"address":{"description":"The network address of the wallet","type":"string"},"network":{"description":"The network this wallet belongs to","type":"string","enum":["ETHEREUM","SOLANA","BITCOIN","POLYGON"]},"name":{"description":"A name for the wallet","type":"string"}}},"CreateUserRequest":{"description":"","required":["firstName","lastName","email","country","phone","acceptedTerms"],"type":"object","properties":{"firstName":{"description":"The first name of the user","type":"string"},"middleName":{"description":"The middle name of the user","type":"string"},"lastName":{"description":"The last name of the user","type":"string"},"email":{"description":"The email of the user","type":"string"},"country":{"description":"The country of the user (Format: ISO 3166 alpha-2)","type":"string"},"phone":{"description":"The phone number of the user (Format: E-164)","type":"string"},"acceptedTerms":{"description":"A boolean indicating the user has accepted the terms","type":"string"}}},"InitiateAchRequest":{"description":"","required":["fiatAmount","cryptoCurrency","walletId","type"],"type":"object","properties":{"fiatAmount":{"description":"The amount in fiat to be exchanged","type":"string"},"cryptoCurrency":{"description":"The crypto currency to be purchased","type":"string","enum":["BTC","ETH","SOL","MATIC"]},"walletId":{"description":"The ID of the wallet to receive the crypto","type":"string"},"type":{"description":"The type of ACH request","type":"string","enum":["STANDARD","INSTANT"]}}},"PartnerAuthenticateCryptoWalletStartRequest":{"description":"","required":["walletAddress","walletNetwork"],"type":"object","properties":{"walletAddress":{"description":"The wallet address to authenticate","type":"string"},"walletNetwork":{"description":"The wallet network to authenticate","type":"string","enum":["ETHEREUM","SOLANA"]}}},"PartnerAuthenticateCryptoWalletRequest":{"description":"","required":["walletAddress","walletNetwork","signature"],"type":"object","properties":{"walletAddress":{"description":"The wallet address to authenticate","type":"string"},"walletNetwork":{"description":"The wallet network to authenticate","type":"string","enum":["ETHEREUM","SOLANA"]},"signature":{"description":"The signature of the challenge","type":"string"},"depositAddress":{"description":"The deposit address to use for the session, if not provided the authenticating address will be used","type":"string"}}},"SendEmailOtpRequest":{"description":"","required":["emailAddress"],"type":"object","properties":{"emailAddress":{"description":"The Email Address to send the Email OTP to","type":"string"}}},"SendSmsOtpRequest":{"description":"","required":["phoneNumber"],"type":"object","properties":{"phoneNumber":{"description":"The phone number to send the SMS OTP to","type":"string"}}},"SubmitKycRequest":{"description":"","required":["dateOfBirth","idType","idNumber","line1","city","state","postalCode","nationality","occupation"],"type":"object","properties":{"dateOfBirth":{"description":"The date of birth of the user (Format: YYYY-MM-DD)","type":"string"},"idType":{"description":"The type of ID","type":"string","enum":["SSN"]},"idNumber":{"description":"The number of ID","type":"string"},"line1":{"description":"The first address line of the user","type":"string"},"line2":{"description":"The second address line of the user","type":"string"},"city":{"description":"The city of the user's address","type":"string"},"state":{"description":"The state of the user's address","type":"string"},"postalCode":{"description":"The postal code of the user's address","type":"string"},"nationality":{"description":"The nationality of the user","type":"string"},"occupation":{"description":"The occupation of the user","type":"string"}}},"UpdateWalletRequest":{"description":"","required":["name"],"type":"object","properties":{"name":{"description":"A name for the wallet","type":"string"}}},"ActivateBankLinkResponse":{"description":"","type":"object","properties":{"bankAccount":{"description":"The bank account of the user","$ref":"#/components/schemas/BankAccount"}}},"AuthenticateCryptoWalletStartResponse":{"description":"","required":["challenge"],"type":"object","properties":{"challenge":{"description":"The challenge string to be signed by the requested wallet","type":"string"}}},"FirstFactorAuthResponse":{"description":"","required":["sessionJwt"],"type":"object","properties":{"sessionJwt":{"description":"The authenticated Bearer token","type":"string"},"userMask":{"description":"The user mask object","$ref":"#/components/schemas/UserMask"}}},"NetworkFee":{"description":"","type":"object","properties":{"cryptoCurrency":{"description":"Crypto currency","type":"string"},"cryptoFee":{"description":"Fee amount in crypto currency","type":"string"},"fiatCurrency":{"description":"Quoted fiat currency","type":"string"},"fiatFee":{"description":"Fee amount in fiat currency","type":"string"}}},"Price":{"description":"","type":"object","properties":{"cryptoCurrency":{"description":"Crypto currency","type":"string"},"fiatCurrency":{"description":"Quoted fiat currency","type":"string"},"price":{"description":"Price","type":"string"}}},"GetCryptoPricesResponse":{"description":"","required":["prices","networkFees"],"type":"object","properties":{"prices":{"description":"The quoted prices","type":"array","items":{"$ref":"#/components/schemas/Price"}},"networkFees":{"description":"The current network fees","type":"array","items":{"$ref":"#/components/schemas/NetworkFee"}}}},"IdvResponse":{"description":"","type":"object","properties":{"status":{"description":"The status of the user's identity verification","type":"string","enum":["UNKNOWN","NOT_STARTED","SUBMITTED","IN_REVIEW","APPROVED","DECLINED"]},"url":{"description":"The URL to provide the user to complete identity verification","type":"string"}}},"InitiateAchResponse":{"description":"","type":"object","properties":{"activityItem":{"description":"The pending activity item","$ref":"#/components/schemas/ActivityItem"}}},"PartnerAuthenticationResponse":{"description":"","required":["sessionId","partnerUrl"],"type":"object","properties":{"sessionId":{"description":"The partner session ID","type":"string"},"partnerUrl":{"description":"The url to launch the embedded partner session","type":"string"}}},"RequestBankLinkResponse":{"description":"","required":["linkToken"],"type":"object","properties":{"linkToken":{"description":"The link token for the Plaid integration","type":"string"}}},"SecondFactorAuthResponse":{"description":"","required":["sessionJwt"],"type":"object","properties":{"sessionJwt":{"description":"The authenticated Bearer token","type":"string"},"user":{"description":"The user object","$ref":"#/components/schemas/User"}}},"SendEmailOtpResponse":{"description":"","required":["emailId"],"type":"object","properties":{"emailId":{"description":"The ID of the email address","type":"string"}}},"SendSmsOtpResponse":{"description":"","required":["phoneId"],"type":"object","properties":{"phoneId":{"description":"The ID of the phone number","type":"string"},"phoneMask":{"description":"The last 4 digits of the phone number","type":"string"}}},"UserMask":{"description":"","type":"object","properties":{"id":{"description":"The unique identifier of the user","type":"string"},"createTime":{"description":"The time the user was created","type":"string"},"updateTime":{"description":"The time the user was last updated","type":"string"},"phoneMask":{"description":"The last 4 digits of the user's phone number","type":"string"},"preferredMfaMethod":{"description":"The preferred MFA method of the user","type":"string","enum":["OTP_SMS","TOTP"]}}},"User":{"description":"","type":"object","properties":{"id":{"description":"The unique identifier of the user","type":"string"},"createTime":{"description":"The time the user was created","type":"string"},"updateTime":{"description":"The time the user was last updated","type":"string"},"firstName":{"description":"The first name of the user","type":"string"},"middleName":{"description":"The middle name of the user","type":"string"},"lastName":{"description":"The last name of the user","type":"string"},"email":{"description":"The email of the user","type":"string"},"country":{"description":"The country of the user","type":"string"},"phone":{"description":"The phone number of the user","type":"string"},"nationality":{"description":"The nationality of the user","type":"string"},"occupation":{"description":"The occupation of the user","type":"string"},"preferredMfaMethod":{"description":"The preferred MFA method of the user","type":"string","enum":["OTP_SMS","TOTP"]},"kyc":{"description":"The KYC information of the user","$ref":"#/components/schemas/Kyc"},"connectedBankAccounts":{"description":"The array of connected bank accounts for the user","type":"array","items":{"$ref":"#/components/schemas/BankAccount"}}}},"Wallet":{"description":"","required":["id","createTime","updateTime","address","network"],"type":"object","properties":{"id":{"description":"The unique identifier of the wallet","type":"string"},"createTime":{"description":"The time the wallet was created","type":"string"},"updateTime":{"description":"The time the wallet was last updated","type":"string"},"address":{"description":"The address of the wallet","type":"string"},"name":{"description":"The nickname of the wallet","type":"string"},"network":{"description":"The crypto network of the wallet","type":"string","enum":["ETHEREUM","SOLANA","BITCOIN","POLYGON"]}}}}},"paths":{"/v1/auth/cryptoWallet:start":{"post":{"deprecated":false,"summary":"Start a crypto wallet authentication flow","security":[{"JWT":[]}],"responses":{"200":{"description":"Start Crypto wallet auth response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateCryptoWalletStartResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateCryptoWalletStartRequest"}}},"description":"Start Crypto wallet auth request object","required":true}}},"/v1/auth/cryptoWallet:authenticate":{"post":{"deprecated":false,"summary":"Authenticate a user's crypto wallet","security":[{"JWT":[]}],"responses":{"200":{"description":"Authentication response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstFactorAuthResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateCryptoWalletRequest"}}},"description":"Crypto wallet auth request object","required":true}}},"/v1/auth/otp/sms:send":{"post":{"deprecated":false,"summary":"Send an SMS OTP to the user","security":[{"JWT":[]}],"responses":{"200":{"description":"Send SMS OTP response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSmsOtpResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendSmsOtpRequest"}}},"description":"Send SMS OTP request object","required":true}}},"/v1/auth/otp/sms:authenticate":{"post":{"deprecated":false,"summary":"Authenticate a user with an SMS OTP","security":[{"JWT":[]}],"responses":{"200":{"description":"Authentication response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SecondFactorAuthResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Invalid OTP","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateSmsOtpRequest"}}},"description":"Authenticate SMS OTP request object","required":true}}},"/v1/auth/otp/email:send":{"post":{"deprecated":false,"summary":"Send an Email OTP to the user","security":[{"JWT":[]}],"responses":{"200":{"description":"Send Email OTP response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailOtpResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendEmailOtpRequest"}}},"description":"Send Email OTP request object","required":true}}},"/v1/auth/otp/email:authenticate":{"post":{"deprecated":false,"summary":"Authenticate a user with an Email OTP","security":[{"JWT":[]}],"responses":{"200":{"description":"Authentication response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FirstFactorAuthResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Invalid OTP","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Auth"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateEmailOtpRequest"}}},"description":"Authenticate Email OTP request object","required":true}}},"/v1/crypto/prices":{"get":{"deprecated":false,"summary":"Get crypto prices","security":[{"JWT":[]}],"responses":{"200":{"description":"Success response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCryptoPricesResponse"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"cryptoCurrencies","in":"query","description":"The crypto currencies to get prices for (comma separated)","required":false,"deprecated":false,"schema":{"type":"string"}},{"name":"fiatCurrency","in":"query","description":"The fiat currency to quote the prices in","required":false,"deprecated":false,"schema":{"type":"string"}},{"name":"includeNetworkFees","in":"query","description":"Whether to include network fees in the response","required":false,"deprecated":false,"schema":{"type":"string","enum":["true","false"]}}],"tags":["Crypto"]}},"/v1/partner/sessions/{sessionId}":{"get":{"deprecated":false,"summary":"Returns the partner session","security":[],"responses":{"200":{"description":"Partner session object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerSession"}}}},"404":{"description":"Session not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"sessionId","in":"path","description":"Session ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Partner"]}},"/v1/partner/auth/cryptoWallet:start":{"post":{"deprecated":false,"summary":"Start a crypto wallet authentication flow","security":[{"JWT":[]}],"responses":{"200":{"description":"Start Crypto wallet auth response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthenticateCryptoWalletStartResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Partner"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerAuthenticateCryptoWalletStartRequest"}}},"description":"Start Crypto wallet auth request object","required":true}}},"/v1/partner/auth/cryptoWallet:authenticate":{"post":{"deprecated":false,"summary":"Authenticate a user's crypto wallet","security":[{"JWT":[]}],"responses":{"200":{"description":"Authentication response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerAuthenticationResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Partner"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartnerAuthenticateCryptoWalletRequest"}}},"description":"Crypto wallet auth request object","required":true}}},"/v1/users/{userId}":{"get":{"deprecated":false,"summary":"This returns the current authenticated user","security":[{"JWT":[]}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"The id of the user","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["User"]}},"/v1/users":{"post":{"deprecated":false,"summary":"This creates a new user","security":[{"JWT":[]}],"responses":{"201":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["User"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequest"}}},"description":"User to be created","required":true}}},"/v1/users/{userId}/kyc":{"post":{"deprecated":false,"summary":"This initiates the KYC process for a user","security":[{"JWT":[]}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"409":{"description":"User has already submitted KYC","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["User"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubmitKycRequest"}}},"description":"Submit kyc request body","required":true}}},"/v1/users/{userId}/idv":{"post":{"deprecated":false,"summary":"This initiates the IDV process for user","security":[{"JWT":[]}],"responses":{"200":{"description":"Response of the IDV request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdvResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"422":{"description":"User has not yet submitted KYC","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["User"]}},"/v1/users/{userId}/wallets":{"get":{"deprecated":false,"summary":"This returns the wallets for a user","security":[{"JWT":[]}],"responses":{"200":{"description":"Wallets for the user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Wallets"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Wallet"]},"post":{"deprecated":false,"summary":"This connects a wallet to a user","security":[{"JWT":[]}],"responses":{"201":{"description":"Wallet for the user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Wallet"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"409":{"description":"Wallet already connected","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"422":{"description":"Wallet not valid for selected network","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Wallet"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectWalletRequest"}}},"description":"Wallet to be connected","required":true}}},"/v1/users/{userId}/wallets/{walletId}":{"get":{"deprecated":false,"summary":"This returns the specified wallet for a user","security":[{"JWT":[]}],"responses":{"200":{"description":"Wallet for the user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Wallet"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Wallet/User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"walletId","in":"path","description":"Wallet ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Wallet"]},"post":{"deprecated":false,"summary":"This updates a wallet for a user","security":[{"JWT":[]}],"responses":{"200":{"description":"Wallet for the user successfully updated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Wallet"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User or wallet not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"walletId","in":"path","description":"Wallet ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Wallet"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWalletRequest"}}},"description":"Wallet to be updated","required":true}}},"/v1/users/{userId}/banks/{bankId}":{"delete":{"deprecated":false,"summary":"Deletes a Bank link for a user","security":[{"JWT":[]}],"responses":{"204":{"description":"Bank link deleted","content":{"application/json":{"schema":{"type":"object"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"502":{"description":"Bad Gateway","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"bankId","in":"path","description":"Bank Account ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Bank"]}},"/v1/users/{userId}/banks/{bankId}/ach":{"post":{"deprecated":false,"summary":"This submits a request to initiate an ACH exchange for Crypto","security":[{"JWT":[]}],"responses":{"201":{"description":"Response object","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateAchResponse"}}}},"400":{"description":"Invalid request body","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Resource not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"422":{"description":"Unprocessable Entity","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"bankId","in":"path","description":"Bank Account ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Bank"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InitiateAchRequest"}}},"description":"Request object","required":true}}},"/v1/users/{userId}/banks:requestLink":{"post":{"deprecated":false,"summary":"Requests a bank account link token for a user","security":[{"JWT":[]}],"responses":{"200":{"description":"Response with link token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestBankLinkResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"422":{"description":"User not KYC approved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Bank"]}},"/v1/users/{userId}/banks:activateLink":{"post":{"deprecated":false,"summary":"Activates a bank account link for a user","security":[{"JWT":[]}],"responses":{"200":{"description":"Bank account link activated","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivateBankLinkResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"422":{"description":"User not KYC approved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Bank"],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActivateBankLinkRequest"}}},"description":"Request with public token","required":true}}},"/v1/users/{userId}/banks/{bankId}:requestLink":{"post":{"deprecated":false,"summary":"Requests an update link token to re-login to an existing bank account","security":[{"JWT":[]}],"responses":{"200":{"description":"Response with link token","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RequestBankLinkResponse"}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"404":{"description":"Bank Account not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"422":{"description":"Bank account does not require login","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"parameters":[{"name":"userId","in":"path","description":"User ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"bankId","in":"path","description":"Bank ID","required":true,"deprecated":false,"schema":{"type":"string"}},{"name":"ratio-client-id","in":"header","description":"Your Ratio Client Identifier","required":true,"deprecated":false,"schema":{"type":"string"}}],"tags":["Bank"]}}},"tags":[{"name":"Auth","description":""},{"name":"Bank","description":""},{"name":"Crypto","description":""},{"name":"Partner","description":""},{"name":"User","description":""},{"name":"Wallet","description":""}]}